<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Lab 1 Oauth Mashup</title>

    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.5.6/angular.min.js"></script>
    <script src="script.js" type="text/javascript"></script>
</head>
<body ng-app="myApp" ng-controller="myController">

    <input type="button" ng-click="googleLogin()" value="Sign in with Google"/>
    <p>{{gmail.username}}</p>
    <p>{{gmail.email}}</p>

    <img ng-src="{{g_image}}" style="width: 100px; height: 100px;">

    <input type="button" onclick="signOut()" value="Sign Out" />

    <script type="text/javascript" src="app.js"></script>

    <script>
        function signOut() {
            console.log("got here")
            var auth2 = gapi.auth2.getAuthInstance();
            auth2.signOut().then(function () {
                console.log('User signed out.');
            });
        }
    </script>

    <script type="text/javascript">
        (function() {
            var p = document.createElement('script');
            p.type = 'text/javascript';
            p.async = true;
            p.src = 'https://apis.google.com/js/client.js?onLoad=onLoadFunction';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(p, s);
        })();
    </script>
</body>
</html>